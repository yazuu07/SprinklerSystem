<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Watering System â€” Schedule</title>
  <link rel="stylesheet" href="styles/dashboard_styles.css">
</head>
<body class="fredoka">
  <div class="container">
    <header class="top" role="banner">
      <div class="brand">
        <div class="logo" aria-hidden>
          <!-- droplet icon -->
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-droplets text-blue-500" aria-hidden="true"><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"></path><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"></path></svg>
        </div>
        <div>
          <div class="title">Smart Watering System</div>
          <div class="welcome-text">Welcome back, User!</div>
        </div>
      </div>
      <div class="actions">
        <div class="profile"><a href="profile.html" style="text-decoration: none; color: #797473;" ><sub><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user" aria-hidden="true"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></sub> Profile</a></div>
       <div class="logout"><a href="login.html" style="color: red; text-decoration: none;"><sub><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out" aria-hidden="true"><path d="m16 17 5-5-5-5"></path><path d="M21 12H9"></path><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path></svg></sub> Logout</a></div>
      </div>
    </header><br>

    <div class="container white-container">
      <div class="tabs" role="tablist" aria-label="Main tabs">
        <button class="tab" role="tab" onclick="location.href='index.html'"><sub><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-droplets" aria-hidden="true"><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"></path><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"></path></svg></sub> Dashboard</button>
        <button class="tab active"><sub><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar" aria-hidden="true"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg></sub> Schedule</button>
        <button class="tab" onclick="location.href='history.html'"><sub><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock" aria-hidden="true"><path d="M12 6v6l4 2"></path><circle cx="12" cy="12" r="10"></circle></svg></sub> History</button>
        <button class="tab" role="tab" onclick="location.href='settings.html'"><sub><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings" aria-hidden="true"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"></path><circle cx="12" cy="12" r="3"></circle></svg></sub> Settings</button>
      </div>
    </div><br>

    <main>
      <div class="panel" aria-label="schedule header">
        <div>
          <div class="heading">Watering Schedule</div>
          <div class="meta-small" style="margin-top:6px">Set up automatic watering times</div>
        </div>
        <div>
          <button class="add-btn" id="addScheduleBtn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 5v14M5 12h14" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
            Add Schedule
          </button>
        </div>
      </div>

      <section class="schedule-list" id="scheduleList" aria-live="polite" style="box-shadow: 0 6px 18px rgba(13, 13, 14, 0.136);">
        <!-- Cards will be rendered here by JS -->
      </section>

      <div class="tips" role="note">
        <strong>Scheduling Tips</strong>
        <ul>
          <li>Water early in the morning for best absorption</li>
          <li>Avoid watering during the hottest part of the day</li>
          <li>Evening watering is good for hot climates</li>
          <li>Adjust duration based on soil moisture feedback</li>
        </ul>
      </div>

      <!-- optional: reference to uploaded screenshot for visual comparison -->
      <div style="margin-top:18px;color:var(--muted);font-size:13px">
        <img src="/mnt/data/b1be1494-9064-4068-8cf5-b977400fa0b7.png" alt="schedule screenshot" style="margin-top:8px;max-width:100%;border-radius:8px;box-shadow:var(--shadow)">
      </div>
    </main>
  </div>

  <script>
    // sample data for schedules (easy to replace with API or static HTML)
    const schedules = [
      {
        id: 1, time: '07:00', active: true, duration: '5 minutes', type: 'Water',
        days: ['Mon','Wed','Fri']
      },
      {
        id: 2, time: '19:00', active: true, duration: '3 minutes', type: 'Water',
        days: ['Tue','Thu','Sat']
      }
    ];

    const scheduleList = document.getElementById('scheduleList');

    function renderSchedules(){
      scheduleList.innerHTML = '';
      schedules.forEach(s=>{
        const card = document.createElement('article');
        card.className = 'schedule-card';
        card.setAttribute('data-id', s.id);

        const left = document.createElement('div');
        left.className = 'schedule-left';

        const time = document.createElement('div');
        time.className = 'time-bubble';
        time.textContent = s.time;

        const meta = document.createElement('div');
        meta.className = 'schedule-meta';

        const topRow = document.createElement('div');
        topRow.className = 'meta-top';

        const status = document.createElement('div');
        status.className = 'pill active';
        status.textContent = s.active ? 'Active' : 'Disabled';

        const small = document.createElement('div');
        small.className = 'meta-small';
        small.textContent = s.duration;

        topRow.appendChild(status);
        topRow.appendChild(small);

        const dtRow = document.createElement('div');
        dtRow.className = 'duration-type';
        const type = document.createElement('div');
        type.className = 'type-pill';
        type.textContent = s.type;

        const daysWrap = document.createElement('div');
        daysWrap.className = 'days';
        s.days.forEach(d=>{
          const dp = document.createElement('div');
          dp.className = 'day-pill'; dp.textContent = d;
          daysWrap.appendChild(dp);
        });

        dtRow.appendChild(type);

        meta.appendChild(topRow);
        meta.appendChild(dtRow);
        meta.appendChild(daysWrap);

        left.appendChild(time);
        left.appendChild(meta);

        const actions = document.createElement('div');
        actions.className = 'card-actions';

        const disableBtn = document.createElement('button');
        disableBtn.className = 'btn-disable';
        disableBtn.textContent = s.active ? 'Disable' : 'Enable';
        disableBtn.addEventListener('click', ()=>{
          s.active = !s.active;
          renderSchedules();
        });

        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'btn-delete';
        deleteBtn.innerHTML = '<sub><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2 lucide-trash-2" aria-hidden="true"><path d="M10 11v6"></path><path d="M14 11v6"></path><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path><path d="M3 6h18"></path><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></sub>'; // trash icon
        deleteBtn.addEventListener('click', ()=>{
          const idx = schedules.findIndex(x=>x.id===s.id);
          if(idx>-1){ schedules.splice(idx,1); renderSchedules(); }
        });

        actions.appendChild(disableBtn);
        actions.appendChild(deleteBtn);

        card.appendChild(left);
        card.appendChild(actions);

        scheduleList.appendChild(card);
      });
    }

    // add schedule button -> demo add
    document.getElementById('addScheduleBtn').addEventListener('click', ()=>{
      const id = Math.max(0,...schedules.map(s=>s.id)) + 1;
      schedules.push({id, time:'06:00', active:true, duration:'4 minutes', type:'Water', days:['Sun']});
      renderSchedules();
      // in a real app you'd open a modal here
    });

    // initial render
    renderSchedules();
  </script>
</body>
<script src="script.js"></script>
</html>
